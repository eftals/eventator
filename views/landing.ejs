<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="stylesheet.css" />
  <script type="text/javascript" src="SpryAssets/SpryAccordion.js"></script>
  <script src="SpryAssets/SpryTabbedPanels.js" type="text/javascript"></script>
  <link href="SpryAssets/SpryAccordion.css" rel="stylesheet" type="text/css" />
  <link href="SpryAssets/SpryTabbedPanels.css" rel="stylesheet" type="text/css" />
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47068998-1', 'nyu.edu');
  ga('send', 'pageview');

  </script>
  <title>Eftal's Homepage</title>
  <script type="text/javascript">
function MM_popupMsg(msg) { //v1.0
  alert(msg);
}
var msgout;
function writeMessage(canvasNme, message) {

  var canvas = document.getElementById(canvasNme);
  var context = canvas.getContext('2d');
  context.clearRect(0, 0, canvas.width, canvas.height);
  context.font = '18pt Calibri';
  context.fillStyle = 'black';
  context.fillText(message, 10, 25);

}

function getMousePos(canvas, evt) {
  var rect = canvas.getBoundingClientRect();
  return {
    x: evt.clientX - rect.left,
    y: evt.clientY - rect.top
  };
}

function dot(evt) {
  var canvas = document.getElementById('MyCanvas');
  var ctx = canvas.getContext('2d');
  var mpos= getMousePos(canvas, evt);
  ctx.fillRect(mpos.x,mpos.y,2,2);
}

function getObjects(evt)
{
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 & xhr.status==200) {
      document.getElementById("respelement").innerHTML = xhr.responseText;

    } 
    else if (xhr.readyState == 4 & xhr.status==404)
    {
      document.getElementById('respelement').innerHTML = "Received 404";
      console.log("Received 404");  
    }
  }
  var cmd = '/getObjects'



  console.log('cmd is: ' + cmd);
  xhr.open('GET', cmd, true);
  xhr.send(null);
  console.log('cmd sent');
}

function findObject(evt)
{
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 & xhr.status==200) {
      document.getElementById("respelement").innerHTML = xhr.responseText;

    } 
    else if (xhr.readyState == 4 & xhr.status==404)
    {
      document.getElementById('respelement').innerHTML = "Received 404";
      console.log("Received 404");  
    }
  }
  var oForm = document.forms['lsstud'];

  console.log(oForm)
  var cmd = '/findObject'


  var cmd = '/findObject?object=' + oForm.elements['userid'].value;


  console.log('cmd is: ' + cmd);
  xhr.open('GET', cmd, true);
  xhr.send(null);
  console.log('cmd sent');
}



</script>
</head>

<body>
  <div class="container">
    <div class="content">
      <div class="bannerArea">
        <div class="bannernav"> <a href="mailto:inferis25@yahoo.com?subject=NoSpam" >Contact Us</a> | <a href="#" >Site Info</a></div>
        <div class="toplogo"><a href="#">
          <h1>This is my banner area - need a nice image here</h1>
        </a></div>
      </div>
      <ul id="Type" class="leftnavigation">
        <li><a href="http://www.drdobbs.com/" >Dr. Dobbs</a></li>
        <li><a href="http://www.sencha.com/" >Sencha - the Best JS Lib</a></li>
        <li><a href="http://emberjs.com/" >EMMMMBEEER!!!!</a></li>
      </ul>
      <div class="contentleft">
        <div>
          <form id='lsstud'>
            <p>This form will <i><font color='red'>asynchronously</font></i> return FEDORA results</p>

            <input type="text" name="userid" size="8">
            (i.e. 
            demo:99) </p>
          </form>

          <button onClick="findObject(event)">Search for object</button>
          <button onClick="getObjects(event)">Get All Objects</button>
        </div><p>
        <textarea id='respelement' padding="0" cols=60 rows=20 readonly >This is where request contents will be listed</textarea></p>
      </div>
      <div style="clear:both;"></div>
    </div>
    <div style="clear:both;"></div>
  </div>
  <td padding="0" onMouseOver="writeMessage('MyCanvas', 'Tracing Mouse...')"
  onMouseMove="dot(event)" colspan="2" ><canvas  id="MyCanvas" height="300" width=400/></td>
  < 
  <script type="text/javascript">
  <!--
  var SpryAccordion1 = new Spry.Widget.Accordion("SpryAccordion1", {useFixedPanelHeights:false, defaultPanel:3});
//-->
</script>
</body>
</html>
